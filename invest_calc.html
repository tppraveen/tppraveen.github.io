<!DOCTYPE html>
<html>
<body onload="find()">

<h2>JavaScript HTML DOM</h2> 
 
  investamount: <input type="number" id="investamount" value="100.0">
  Coins-<input type="number" id="invt_coins" value="0"><br><br> 
  buy percentage <input type="number" id="buypercentage" value="0.2"><br><br> 
  buy: amt <input type="number" id="buy" value="0.031"><br>
  sell amt<input type="number" id="sell" value="20"><br><br>
  sell percentage <input type="number" id="sellpercentage" value="0.2"><br><br>
  <button onclick="find()">sub</button> 
 

<p>Buy Price - <span id="buyprice"></span> Sell Price- <span id="sellprice"></span>
Margin- <span id="profitloss"></span>
</p>


<p>Buy</p>
<p > 
Total invstment:<span id="investamt"></span>(+<span id="buytax"></span>)
<br>
Number of coins:<span id="coins"></span>
<br>
Total buy price:<span id="buyamt"></span> 
</p>


<p > 
sell Profit amt:<span id="sellprofit"></span>(+<span id="selltax"></span>)
<br>
Number of coins:<span id="sellcoin"></span>
<br>   
Total sell price:<span id="sellamt"></span>
</p>

<p >other</p>
<p > 
Total Investment<span id="totalinvest"></span>
<br>
Total return:<span id="return"></span>
<br>  
Profit:<span id="earnprofit"></span>
<br>   
Percentage:<span id="earnpercentage"></span>%
</p>

<script>

    let investamount= document.getElementById("investamount").value;
    
    let buypercentage= document.getElementById("buypercentage").value;
    let sellpercentage= document.getElementById("sellpercentage").value;
    let percentage= document.getElementById("investamount").value;
    let buy= document.getElementById("buy").value;
    let sell= document.getElementById("sell").value;
    let intcoins= document.getElementById("invt_coins").value;
    var totalinvestamt;
    var buycoins;
    var buytax,selltax;
    var sellprofit,sellcoin;
    var sellreturns,earnpercentage;
    var status="Loss";
var totalinvestamt=investamount;



  function find(){  

   investamount= document.getElementById("investamount").value;
   buypercentage= document.getElementById("buypercentage").value;
   sellpercentage= document.getElementById("sellpercentage").value;
  percentage= document.getElementById("investamount").value;
    buy= document.getElementById("buy").value;
    sell= document.getElementById("sell").value;
     intcoins= document.getElementById("invt_coins").value;

    console.log(investamount);
   // if (investamount==0) {
   //      investamount=intcoins*buy;
   //      totalinvestamt=investamount;
   //  console.log(investamount);
   //  }
    buyfind();
    sellfind();
    
                console.log(totalinvestamt);
    document.getElementById("buyprice").innerHTML =parseFloat(totalinvestamt)+parseFloat(buytax) ;
    document.getElementById("sellprice").innerHTML = sellprofit;
    profitloss=sellprofit-investamount;
    if(profitloss>=0)
      status="Profit";
     else
      status="Loss";
    document.getElementById("profitloss").innerHTML = status;
     
    document.getElementById("invt_coins").value = buycoins;
    document.getElementById("totalinvest").innerHTML = parseFloat(totalinvestamt)+parseFloat(buytax) ; 
    document.getElementById("return").innerHTML = sellreturns+"(-"+selltax+")"; 
    
    document.getElementById("earnprofit").innerHTML =(sellprofit-investamount).toFixed(2);
    
    
    var profitt=sellreturns-investamount;  
earnpercentage=(profitt/investamount)*100;

    document.getElementById("earnpercentage").innerHTML =earnpercentage.toFixed(2); 
    
}
  function buyfind(){  
                let a = investamount;
                totalinvestamt=a;
                let b = buypercentage / 100;
                buytax= (a*b).toFixed(3);
                console.log(parseFloat(a));
                console.log(parseFloat(buytax));
  //totalinvestamt=parseFloat(a)+parseFloat(buytax);
                console.log(totalinvestamt);
  buycoins=(totalinvestamt/buy);

  if(buycoins>0)
      buycoins=buycoins;
    else
      buycoins=buycoins.toFixed(5);
    document.getElementById("investamt").innerHTML = totalinvestamt;
    document.getElementById("buytax").innerHTML =buytax; 
    document.getElementById("coins").innerHTML = buycoins;
    document.getElementById("buyamt").innerHTML = buy;
    document.getElementById("sellamt").innerHTML =sell; 
   
}
  function sellfind(){  
sellreturns=(sell*buycoins).toFixed(3); 
                var a = sellreturns;
                var b = sellpercentage / 100;
                selltax= (a*b).toFixed(3);
  sellprofit=(sellreturns-(a*b)).toFixed(3);
    document.getElementById("sellprofit").innerHTML = sellprofit;
    document.getElementById("selltax").innerHTML =selltax; 
    document.getElementById("sellcoin").innerHTML = buycoins; 
    document.getElementById("sellamt").innerHTML =sell; 
   
}
</script>

</body>
</html>
